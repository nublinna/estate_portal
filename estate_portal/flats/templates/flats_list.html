{% extends 'base.html' %}

{% block content %}
    <h1>Flats Catalog</h1>

    <ul>
        {% for flat in all_flats %}
            <li>
                {% if flat.image %}
                    <img src="{{ flat.image.url }}" alt="{{ flat.title }}" width="180" height="140">
                {% else %}
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='140' viewBox='0 0 180 140'%3E%3Crect fill='%23e9ecef' width='180' height='140'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='16' fill='%23adb5bd'%3ENo Image%3C/text%3E%3C/svg%3E" alt="No image" width="180" height="140">
                {% endif %}

                <a href="{% url 'flats:flat_detail' flat.pk %}"> {{ flat.title}} </a>
                <strong> ${{ flat.price }} </strong>
                <small> {{ flat.type }} </small>
            </li>
        {% endfor %}
    </ul>

{% endblock %}